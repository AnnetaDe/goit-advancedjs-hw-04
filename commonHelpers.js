import{a as b,S as h,i as v}from"./assets/vendor-940309d5.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function r(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(t){if(t.ep)return;t.ep=!0;const a=r(t);fetch(t.href,a)}})();const M="3024031-50bf2ca6b1e9bc3513f045fb3";async function y(s,e){let r=15;const t=`https://pixabay.com/api/?${new URLSearchParams({key:M,q:s,image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:r,page:e}).toString()}`;return b.get(t)}const c=document.querySelector(".search-form"),i=document.querySelector(".picture-and-data-list");document.querySelector(".picture-and-data-item");const l=document.querySelector(".loader"),o=document.querySelector(".load-more-images-btn");o.classList.add("is-hidden");let d="",n=1;const P=()=>{document.querySelector(".bottom-scroll").scrollIntoView({behavior:"smooth"})},w=new h(".image-link",{focus:!0,captionsData:"alt",captionDelay:250});function f(s){return s.map(r=>`
    <li class="picture-and-data-item">
    <div class="img-container">
          <a  class="image-link" href="${r.largeImageURL}"><img class="image" src="${r.webformatURL}" alt="${r.tags}" />
          </div>
          <ul class="under-picture-list">
              <li class="under-picture-info-item">Likes <span class="data-received">${r.likes}</span></li>
              <li class="under-picture-info-item">Views <span class="data-received">${r.views}</span></li>
              <li class="under-picture-info-item">Comments <span class="data-received">${r.comments}</span></li>
              <li class="under-picture-info-item">Downloads <span class="data-received">${r.downloads}</span></li>
          </ul>
      </li> 
      </a>`).join("")}const L=()=>{o.classList.add("is-hidden"),o.removeEventListener("click",g)},S=()=>{o.classList.remove("is-hidden"),o.addEventListener("click",g)},p=(s,e)=>{i.innerHTML="",s.reset(),v.error({message:e,position:"topRight",timeout:2e3}),L()},q=async s=>{try{if(s.preventDefault(),d=s.target.elements.picture_search.value.trim(),n=1,d===""){p(s.target,"Please enter a query.");return}i.innerHTML="",l.classList.add("is-visible");const e=await y(d,n);if(l.classList.remove("is-visible"),e.data.hits.length===0){p(s.target,"No images found. Please enter another query.");return}if(e.data.totalHits<=15){console.log(e.data.totalHits),i.insertAdjacentHTML("beforeend",f(e.data.hits));return}e.data.totalHits>15&&(i.innerHTML=f(e.data.hits),S(),o.addEventListener("click",g));const r=new h(".image-link",{focus:!0,captionsData:"alt",captionDelay:250})}catch(e){l.classList.remove("is-visible"),console.log(e)}},g=async s=>{try{n+=1;const e=await y(d,n);i.insertAdjacentHTML("beforeend",f(e.data.hits)),w.refresh(),P();let r=Math.ceil(e.data.totalHits/15);n===r&&(L(),p(s.target,"We're sorry, but you've reached the end of search results."))}catch(e){l.classList.remove("is-visible"),console.log(e)}};c.addEventListener("submit",q);c.addEventListener("reset",s=>{s.target===c&&c.reset()});
//# sourceMappingURL=commonHelpers.js.map
