import{a as b,S as p,b as w,i as f}from"./assets/vendor-6d39a0e4.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function e(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(s){if(s.ep)return;s.ep=!0;const a=e(s);fetch(s.href,a)}})();const S="3024031-50bf2ca6b1e9bc3513f045fb3";async function L(r,t){let e=15;const s=`https://pixabay.com/api/?${new URLSearchParams({key:S,q:r,image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:e,page:t}).toString()}`;return b.get(s)}const q=document.querySelector(".search-form"),i=document.querySelector(".picture-and-data-list");document.querySelector(".picture-and-data-item");const c=document.querySelector(".loader"),o=document.querySelector(".load-more-images-btn"),M=document.querySelector("#user-search-input");o.classList.add("is-hidden");let l="",n=1;const v=()=>{document.querySelector(".bottom-scroll").scrollIntoView({behavior:"smooth"})},P=()=>{document.querySelector(".top-scroll").scrollIntoView({behavior:"smooth"})};new p(".image-link",{focus:!0,captionsData:"alt",captionDelay:250});function m(r){return r.map(e=>`
    <li class="picture-and-data-item">
    <div class="img-container">
          <a  class="image-link" href="${e.largeImageURL}"><img class="image" src="${e.webformatURL}" alt="${e.tags}" />
          </div>
          <ul class="under-picture-list">
              <li class="under-picture-info-item">Likes <span class="data-received">${e.likes}</span></li>
              <li class="under-picture-info-item">Views <span class="data-received">${e.views}</span></li>
              <li class="under-picture-info-item">Comments <span class="data-received">${e.comments}</span></li>
              <li class="under-picture-info-item">Downloads <span class="data-received">${e.downloads}</span></li>
          </ul>
      </li> 
      </a>`).join("")}const g=()=>{o.classList.add("is-hidden"),o.removeEventListener("click",h)},I=()=>{o.classList.remove("is-hidden"),o.addEventListener("click",h)},y=(r,t)=>{i.innerHTML="",r.reset(),f.error({message:t,position:"topRight",timeout:2e3}),g()},k=async r=>{try{r.preventDefault(),l=r.target.elements.picture_search.value.trim(),n=1;const t=new p(".image-link",{focus:!0,captionsData:"alt",captionDelay:250});if(l===""){y(r.target,"Please enter a query.");return}i.innerHTML="",c.classList.add("is-visible");const e=await L(l,n);if(c.classList.remove("is-visible"),M.value="",e.data.hits.length===0){y(r.target,"No images found. Please enter another query.");return}if(e.data.totalHits<=15){i.insertAdjacentHTML("beforeend",m(e.data.hits)),t.refresh(),g(),f.warning({message:"We're sorry, but you've reached the end of search results.",position:"topRight"});return}e.data.totalHits>15&&(i.innerHTML=m(e.data.hits),t.refresh(),I(),o.addEventListener("click",h),v())}catch(t){c.classList.remove("is-visible"),console.log(t)}},h=async r=>{try{n+=1;const t=await L(l,n);i.insertAdjacentHTML("beforeend",m(t.data.hits)),new p(".image-link",{focus:!0,captionsData:"alt",captionDelay:250}),v();let e=Math.ceil(t.data.totalHits/15);n===e&&(g(),f.warning({message:"We're sorry, but you've reached the end of search results.",position:"topRight"}),setTimeout(()=>{P()},5e3)),c.classList.remove("is-visible")}catch(t){console.log(t)}};q.addEventListener("submit",k);w({container:"#autocomplete",placeholder:"Search for images"});
//# sourceMappingURL=commonHelpers.js.map
